{% extends "base.html" %}
{% block content %}
<h2>Bands</h2>

{% for band in bands %}
<section>
  <h3>
    {{ band.BandName }} ({{ band.FormedYear }})
    {#
    <a href="{{ url_for('edit_band', id=band.BandID) }}">Edit</a>
    <a href="{{ url_for('delete_band', id=band.BandID) }}">Delete</a>
    #}
  </h3>
  <p><strong>Home:</strong> {{ band.HomeLocation }}</p>

  <h4>Members</h4>
  <ul>
    {% for m in band.memberships %}
      <li>
        {{ m.member.MemberName }}
        {% if m.Role %} - {{ m.Role }}{% endif %}
        {% if m.StartYear or m.EndYear %}
          ({{ m.StartYear or '?' }}â€“{{ m.EndYear or 'present' }})
        {% endif %}
      </li>
    {% else %}
      <li><em>No members assigned yet</em></li>
    {% endfor %}
  </ul>

  <h4>Albums</h4>
  <ul>
    {% for album in band.albums %}
      <li>
        {{ album.AlbumTitle }} ({{ album.ReleaseYear }})
        <br>
        <small>
          Collaborating bands:
          {% for collaborator in album.bands %}
            {{ collaborator.BandName }}{% if not loop.last %}, {% endif %}
          {% endfor %}
        </small>
      </li>
    {% else %}
      <li><em>No albums yet.</em></li>
    {% endfor %}
  </ul>
</section>
<hr />
{% endfor %}
{% endblock %}
